{"swagger":"2.0","info":{"version":"v1.0","title":"Plataforma Digital","description":"MRV Comercial - BFF para Plataforma","contact":{"name":"MRV","url":"http://mrv.com.br/"}},"paths":{"/api/v{version}/Credito/questions":{"get":{"tags":["Credito"],"summary":"Retorna uma lista de perguntas do microsserviço MRV","operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"input","in":"query","description":"","required":false,"type":"object"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Pergunta"}}}}}},"/api/v{version}/Credito/pac":{"post":{"tags":["Credito"],"summary":"Cria uma PAC e um proponente para este PAC e os retorna","operationId":"GetDocuments","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"input","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/DocumentosCriarRequest"}},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/ProponentesCreditoResult"}},"409":{"description":"Pac Já Existente","schema":{"$ref":"#/definitions/ConflictResult"}}}}},"/api/v{version}/Credito/proponente":{"get":{"tags":["Credito"],"operationId":"BuscarProponente","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdProponente","in":"query","required":false,"type":"string"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Proponente"}}}}},"/api/v{version}/Credito/proponente/predoc-respostas":{"get":{"tags":["Credito"],"operationId":"BuscarProponentePreDocRespostas","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdProponente","in":"query","required":false,"type":"string"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ProponentePreDocResposta"}}}}}},"/api/v{version}/Credito/proponente/adicionar-documento":{"post":{"tags":["Credito"],"summary":"Faz o upload de um documento para o serviço de crédito e retorna uma lista de todos documentos do proponente enviado","operationId":"SaveProponenteDocumento","consumes":["multipart/form-data"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdProponente","in":"formData","required":false,"type":"string"},{"name":"TiposDocumento","in":"formData","required":false,"type":"string"},{"name":"IdDocumento","in":"formData","required":false,"type":"string"},{"name":"Documento","in":"formData","required":false,"type":"file"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/DocumentoProponente"}},"400":{"description":"Erro no Documento"},"409":{"description":"Documento Já Cadastrado"},"500":{"description":"Erro Interno"}}}},"/api/v{version}/Credito/proponente/documentos-enviados":{"get":{"tags":["Credito"],"summary":"Retorna uma lista de documentos enviados do proponente","operationId":"GetProponenteDocumento","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdProponente","in":"query","required":false,"type":"string"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/DocumentoProponente"}}},"404":{"description":"Proponente Não Encontrado"}}}},"/api/v{version}/Credito/documentos":{"post":{"tags":["Credito"],"summary":"Retorna os documentos necessários de acordo com as respostas enviadas anteriormente","operationId":"Post","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"input","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/ObterDocumentosCreditoRequest"}},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/DocumentosCreditoResult"}},"404":{"description":"Não Encontrado","schema":{"$ref":"#/definitions/NotFoundResult"}}}}},"/api/v{version}/Credito/pac/adicionar-proponente":{"post":{"tags":["Credito"],"summary":"Adiciona um novo proponente à uma PAC já existente","description":"A identificação da PAC será feita através do IdProponente enviado pelo request, que se refere ao usuário principal que está adicionando novos compradores\r\nExemplo de request:\r\n            \r\n    POST /pac/adicionar-proponente\r\n    {\r\n       \"IdProponente\": \"EzXvrxdTOk2go_94ZwdiTg\",\r\n       \"nome\": \"Ronaldo Silva\",\r\n       \"email\": \"ronaldo.silva@gmail\",\r\n       \"telefone\": \"11999658997\" \r\n    }","operationId":"SalvaNovoProponentNaPac","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"input","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/AdicionarNovoProponentePacRequest"}},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/Proponente"}},"404":{"description":"Não Encontrado","schema":{"$ref":"#/definitions/NotFoundResult"}}}}},"/api/v{version}/Credito/pac/proponentes":{"get":{"tags":["Credito"],"summary":"Busca todos os proponentes de uma PAC","description":"A identificação da PAC para buscar seus proponentes será feita através do IdProponente enviado pelo request, que se refere ao usuário do Front-End \r\nExemplo de request:\r\n            \r\n    GET /pac/proponentes?idProponente=EzXvrxdTOk2go_94ZwdiTg","operationId":"BuscarProponentesPorPac","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdProponente","in":"query","required":false,"type":"string"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Proponente"}}},"404":{"description":"Não Encontrado","schema":{"$ref":"#/definitions/NotFoundResult"}}}}},"/api/v{version}/Credito/pac/remover-proponente":{"delete":{"tags":["Credito"],"summary":"Remove um Proponente","description":"Exemplo de request:\r\n            \r\n    DELETE /pac/remover-proponente?idProponente=EzXvrxdTOk2go_94ZwdiTg","operationId":"RemoverProponente","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdProponente","in":"query","required":false,"type":"string"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"type":"boolean"}},"404":{"description":"Não Encontrado","schema":{"$ref":"#/definitions/NotFoundResult"}}}}},"/api/v{version}/Plataforma/simulacao":{"get":{"tags":["Plataforma"],"summary":"Busca simulação","operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"IdSimulacao","in":"query","required":false,"type":"string"},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/SimulacaoResult"}},"404":{"description":"Não EncontradoSucessSS","schema":{"$ref":"#/definitions/NotFoundResult"}}}},"post":{"tags":["Plataforma"],"summary":"Gera simulação","operationId":"Post","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"input","in":"body","required":false,"schema":{"$ref":"#/definitions/GerarSimulacaoRequest"}},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/SimulacaoResult"}}}}},"/api/v{version}/Plataforma/simulacao/{id}":{"put":{"tags":["Plataforma"],"summary":"Altera simulação","operationId":"Put","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"input","in":"body","required":false,"schema":{"$ref":"#/definitions/AtualizarSimulacaoRequest"}},{"name":"version","in":"path","required":true,"type":"string","default":"1.0","enum":["1.0"]},{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Sucesso","schema":{"$ref":"#/definitions/SimulacaoResult"}},"404":{"description":"Não Encontrado","schema":{"$ref":"#/definitions/NotFoundResult"}}}}}},"definitions":{"ObterPerguntasCreditoRequest":{"type":"object","properties":{}},"Pergunta":{"type":"object","properties":{"id":{"type":"string"},"nome":{"type":"string"},"descricao":{"type":"string"},"ativo":{"type":"boolean"},"componentType":{"enum":["SimpleSelect","Select","Checkbox"],"type":"string"},"chave":{"type":"string"},"opcoes":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Opcao"}}}},"Opcao":{"type":"object","properties":{"id":{"type":"string"},"nome":{"type":"string"},"ativo":{"type":"boolean"},"chave":{"type":"string"}}},"DocumentosCriarRequest":{"type":"object","properties":{"idUnidade":{"type":"string"},"idUsuario":{"type":"string"}}},"ProponentesCreditoResult":{"type":"object","properties":{"pac":{"$ref":"#/definitions/PacResult"},"proponentes":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Proponente"}}}},"PacResult":{"type":"object","properties":{"id":{"type":"string"},"correlationIdCriacao":{"type":"string"},"idUsuario":{"type":"string"},"idUnidade":{"type":"string"},"idJornadaPac":{"type":"string"},"diasValidade":{"type":"string"}}},"Proponente":{"type":"object","properties":{"id":{"type":"string"},"idProponente":{"type":"string"},"idCorrelacao":{"type":"string"},"nomeReduzido":{"type":"string"},"nomeCompleto":{"type":"string"},"subTipoDocumento":{"type":"string"},"numeroDocumento":{"type":"string"},"orgaoEmissorDocumento":{"type":"string"},"dataEmissaoDocumento":{"type":"string"},"dataValidadeDocumento":{"type":"string"},"ufDocumento":{"type":"string"},"cpf":{"type":"string"},"nomePai":{"type":"string"},"nomeMae":{"type":"string"},"grauInstrucao":{"type":"string"},"numeroPis":{"type":"string"},"dataNascimento":{"type":"string"},"estadoCivil":{"type":"string"},"nacionalidade":{"type":"string"},"naturalidade":{"type":"string"},"dependentes":{"type":"string"},"possui3anosCarteira":{"type":"string"},"fonteRenda":{"type":"string"},"declaraImpostoRenda":{"type":"string"},"cpfConjuge":{"type":"string"},"nomeConjuge":{"type":"string"},"possuiImovelNaMesmaCidadeDoEmpreendimento":{"type":"string"},"inicioNaResidencia":{"type":"string"},"telefoneCelular":{"type":"string"},"telefoneResidencial":{"type":"string"},"email":{"type":"string"},"enderecoId":{"type":"string"},"pacId":{"type":"string"},"tipoResidenciaId":{"type":"string"},"fatorSocial":{"type":"string"},"possuiSubsidioGoverno":{"type":"string"}}},"ConflictResult":{"type":"object","properties":{"statusCode":{"format":"int32","type":"integer","readOnly":true}}},"ProponentePreDocResposta":{"type":"object","properties":{"pergunta":{"type":"string"},"respostas":{"uniqueItems":false,"type":"array","items":{"type":"string"}}}},"DocumentoProponente":{"type":"object","properties":{"id":{"type":"string"},"idProponente":{"type":"string"},"idDocumento":{"type":"string"},"idDocumentoGed":{"type":"string"},"tipoDocumentoProponentes":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Resultado"}}}},"Resultado":{"type":"object","properties":{"tipoDocVisaoComputacional":{"type":"string"}}},"ObterDocumentosCreditoRequest":{"type":"object","properties":{"idProponente":{"type":"string"},"perguntas":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ProponentePreDocResposta"}}}},"DocumentosCreditoResult":{"type":"object","properties":{"identificacaoPessoal":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Documento"}},"renda":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Documento"}},"residencia":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Documento"}},"dependentes":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Documento"}}}},"Documento":{"type":"object","properties":{"id":{"type":"string"},"nome":{"type":"string"},"descricao":{"type":"string"},"descricaoLonga":{"type":"string"},"ativo":{"type":"boolean"},"tipoDocumentoApis":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/TipoDocumento"}},"exigidoParaTodos":{"type":"boolean"},"componentType":{"enum":["SimpleSelect","Select","Checkbox","Files","Text"],"type":"string"}}},"TipoDocumento":{"type":"object","properties":{"id":{"type":"string"},"documentoId":{"type":"string"},"descricao":{"type":"string"},"tipo":{"type":"string"}}},"NotFoundResult":{"type":"object","properties":{"statusCode":{"format":"int32","type":"integer","readOnly":true}}},"AdicionarNovoProponentePacRequest":{"type":"object","properties":{"idProponente":{"type":"string"},"nome":{"type":"string"},"email":{"type":"string"},"telefone":{"type":"string"}}},"SimulacaoResult":{"type":"object","properties":{"idSimulacao":{"type":"string"},"usuario":{"$ref":"#/definitions/UsuarioResult"},"empreendimento":{"$ref":"#/definitions/EmpreendimentoResult"},"valores":{"$ref":"#/definitions/ValoresResult"}}},"UsuarioResult":{"type":"object","properties":{"nome":{"type":"string"},"idCliente":{"format":"uuid","type":"string"},"possuiFgts":{"type":"boolean"}}},"EmpreendimentoResult":{"type":"object","properties":{"idUnidade":{"format":"uuid","type":"string"},"nome":{"type":"string"},"image":{"type":"string"},"estimativa":{"$ref":"#/definitions/EstimativaEmpreendimentoResult"},"unidade":{"$ref":"#/definitions/UnidadeEmpreendimentoResult"}}},"ValoresResult":{"type":"object","properties":{"valorInicial":{"format":"double","type":"number"},"valorFinal":{"format":"double","type":"number"},"valorMrv":{"format":"double","type":"number"},"valorFinanciado":{"format":"double","type":"number"},"quantidadeParcelas":{"format":"int32","type":"integer"},"sinal":{"format":"double","type":"number"},"fgts":{"format":"double","type":"number"},"subsidio":{"format":"double","type":"number"},"descontoMrv":{"format":"double","type":"number"}}},"EstimativaEmpreendimentoResult":{"type":"object","properties":{"porcentagemConcluida":{"format":"int32","type":"integer"},"anoEntrega":{"format":"int32","type":"integer"},"mesEntrega":{"format":"int32","type":"integer"}}},"UnidadeEmpreendimentoResult":{"type":"object","properties":{"numero":{"format":"int32","type":"integer"},"andar":{"format":"int32","type":"integer"},"areaTotal":{"format":"float","type":"number"},"informacaoAdicional":{"type":"string"}}},"GerarSimulacaoRequest":{"type":"object","properties":{"idCliente":{"format":"uuid","type":"string"},"rendaFamiliar":{"format":"double","type":"number"},"email":{"type":"string"},"telefone":{"type":"string"},"nome":{"type":"string"},"idEmpreendimento":{"format":"uuid","type":"string"},"idUnidade":{"format":"uuid","type":"string"},"rating":{"type":"string"},"dataNascimento":{"type":"string"},"possuiFgts":{"type":"boolean"},"subsidioCaixa":{"type":"boolean"},"fatorSocial":{"type":"boolean"}}},"AtualizarSimulacaoRequest":{"type":"object","properties":{"idSimulacao":{"type":"string"},"fgts":{"format":"double","type":"number"},"sinal":{"format":"double","type":"number"},"save":{"type":"boolean"}}}}}
